"""
Translations for GW2 CounterPicker
Supports French (fr) and English (en)
"""

TRANSLATIONS = {
    'fr': {
        # Navigation
        'home': 'Accueil',
        'meta': 'Méta',
        'language': 'Langue',
        
        # Main page
        'title': 'GW2 Counter Picker',
        'subtitle': 'Analysez vos combats WvW et obtenez des recommandations IA',
        'upload_title': 'Analyser un fichier EVTC',
        'upload_desc': 'Glissez-déposez ou cliquez pour sélectionner',
        'url_title': 'Ou collez un lien dps.report',
        'url_placeholder': 'https://dps.report/...',
        'analyze_btn': 'Analyser',
        'analyzing': 'Analyse en cours...',
        
        # Results
        'fight_result': 'Résultat du Combat',
        'victory': 'VICTOIRE',
        'defeat': 'DÉFAITE',
        'draw': 'MATCH NUL',
        'duration': 'Durée',
        'your_squad': 'Ton Escouade',
        'enemy_squad': 'Escouade Ennemie',
        'players': 'joueurs',
        'allies': 'alliés',
        'enemies': 'ennemis',
        
        # Detailed stats
        'detailed_stats': 'Statistiques Détaillées de l\'Escouade',
        'squad_totals': 'Totaux Escouade',
        'damage_tab': 'Dégâts',
        'combat_tab': 'Combat',
        'support_tab': 'Support',
        'defensive_tab': 'Défensif',
        'boons_tab': 'Boons',
        
        # Table headers
        'player': 'Joueur',
        'class': 'Classe',
        'group': 'Grp',
        'role': 'Rôle',
        'damage_dealt': 'Dégâts Infligés',
        'dps': 'DPS',
        'ratio': 'Ratio O/I',
        'down_contrib': 'Down Contrib',
        'cc_out': 'CC Out',
        'strips_out': 'Strips Out',
        'heal': 'Heal',
        'barrier': 'Barrier',
        'hps': 'HPS',
        'cleanses': 'Cleanses',
        'rez': 'Rez',
        'dmg_in': 'Dmg In',
        'strips_in': 'Strips In',
        'deaths': 'Deaths',
        'downs': 'Downs',
        
        # Sorting
        'sort_by': 'Trier:',
        
        # AI section
        'ai_counter': 'IA VIVANTE - Recommandation Counter',
        'ai_recommendation': 'Recommandation IA',
        'best_builds': 'MEILLEURS BUILDS RÉELS CONTRE CETTE COMP',
        'based_on_fights': 'Basé sur {count} fights similaires dans notre base',
        'fights_played': 'Sur {count} fights réels',
        'win_rate': 'Win Rate',
        'powered_by': 'Powered by',
        'builds_won': 'Ces builds ont historiquement gagné contre des compositions similaires',
        
        # Full report
        'view_full_report': 'Voir le rapport complet sur dps.report',
        'full_report_desc': 'Analyse complète avec graphiques, rotations et statistiques détaillées',
        
        # Tooltips
        'tooltip_dps': 'Dégâts par seconde',
        'tooltip_ratio': 'Dégâts Out / Dégâts In',
        'tooltip_down_contrib': 'Dégâts sur ennemis down',
        'tooltip_cc': 'Crowd Control infligé',
        'tooltip_strips': 'Boons retirés aux ennemis',
        'tooltip_heal': 'Soins directs',
        'tooltip_barrier': 'Barrier appliqué',
        'tooltip_hps': 'Heal+Barrier par seconde',
        'tooltip_cleanses': 'Cleanses par seconde',
    },
    
    'en': {
        # Navigation
        'home': 'Home',
        'meta': 'Meta',
        'language': 'Language',
        
        # Main page
        'title': 'GW2 Counter Picker',
        'subtitle': 'Analyze your WvW fights and get AI recommendations',
        'upload_title': 'Analyze an EVTC file',
        'upload_desc': 'Drag and drop or click to select',
        'url_title': 'Or paste a dps.report link',
        'url_placeholder': 'https://dps.report/...',
        'analyze_btn': 'Analyze',
        'analyzing': 'Analyzing...',
        
        # Results
        'fight_result': 'Fight Result',
        'victory': 'VICTORY',
        'defeat': 'DEFEAT',
        'draw': 'DRAW',
        'duration': 'Duration',
        'your_squad': 'Your Squad',
        'enemy_squad': 'Enemy Squad',
        'players': 'players',
        'allies': 'allies',
        'enemies': 'enemies',
        
        # Detailed stats
        'detailed_stats': 'Detailed Squad Statistics',
        'squad_totals': 'Squad Totals',
        'damage_tab': 'Damage',
        'combat_tab': 'Combat',
        'support_tab': 'Support',
        'defensive_tab': 'Defensive',
        'boons_tab': 'Boons',
        
        # Table headers
        'player': 'Player',
        'class': 'Class',
        'group': 'Grp',
        'role': 'Role',
        'damage_dealt': 'Damage Dealt',
        'dps': 'DPS',
        'ratio': 'Ratio O/I',
        'down_contrib': 'Down Contrib',
        'cc_out': 'CC Out',
        'strips_out': 'Strips Out',
        'heal': 'Heal',
        'barrier': 'Barrier',
        'hps': 'HPS',
        'cleanses': 'Cleanses',
        'rez': 'Rez',
        'dmg_in': 'Dmg In',
        'strips_in': 'Strips In',
        'deaths': 'Deaths',
        'downs': 'Downs',
        
        # Sorting
        'sort_by': 'Sort:',
        
        # AI section
        'ai_counter': 'LIVING AI - Counter Recommendation',
        'ai_recommendation': 'AI Recommendation',
        'best_builds': 'BEST REAL BUILDS AGAINST THIS COMP',
        'based_on_fights': 'Based on {count} similar fights in our database',
        'fights_played': 'From {count} real fights',
        'win_rate': 'Win Rate',
        'powered_by': 'Powered by',
        'builds_won': 'These builds have historically won against similar compositions',
        
        # Full report
        'view_full_report': 'View full report on dps.report',
        'full_report_desc': 'Complete analysis with graphs, rotations and detailed statistics',
        
        # Tooltips
        'tooltip_dps': 'Damage per second',
        'tooltip_ratio': 'Damage Out / Damage In',
        'tooltip_down_contrib': 'Damage on downed enemies',
        'tooltip_cc': 'Crowd Control dealt',
        'tooltip_strips': 'Boons stripped from enemies',
        'tooltip_heal': 'Direct healing',
        'tooltip_barrier': 'Barrier applied',
        'tooltip_hps': 'Heal+Barrier per second',
        'tooltip_cleanses': 'Cleanses per second',
    }
}

def get_translation(lang: str, key: str, **kwargs) -> str:
    """Get a translation for the given key in the specified language"""
    if lang not in TRANSLATIONS:
        lang = 'fr'  # Default to French
    
    text = TRANSLATIONS[lang].get(key, TRANSLATIONS['fr'].get(key, key))
    
    # Replace placeholders like {count}
    for k, v in kwargs.items():
        text = text.replace('{' + k + '}', str(v))
    
    return text

def get_all_translations(lang: str) -> dict:
    """Get all translations for a language"""
    if lang not in TRANSLATIONS:
        lang = 'fr'
    return TRANSLATIONS[lang]
